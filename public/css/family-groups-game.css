/* ===== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ù‘Ø© ===== */
:root{
  --fg-max-img: 400px;
  --fg-gap: 0.75rem;
  --fg-border: 1px solid var(--border-color, #e5e7eb);
  --fg-shadow: 0 6px 18px rgba(0,0,0,.06);
}

#family-groups-game{ padding: .5rem .75rem; }

#family-groups-game .subject-title{
  text-align: center;
  font-size: clamp(1.3rem, 2.5vw, 1.8rem);
  margin: .25rem 0 .75rem;
  line-height: 1.2;
}

/* ===== Ø§Ù„Ù…Ø³Ø±Ø­ ===== */
.fg-stage{
  display: grid;
  gap: 1rem;
  align-items: center;
  justify-items: center;
}

/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
#family-groups-game .fg-card{
  border: var(--fg-border);
  background: var(--panel-bg, #fff);
  border-radius: 1rem;
  padding: .5rem;
  box-shadow: var(--fg-shadow);
  cursor: grab;
  touch-action: none;
  width: min(92vw, calc(var(--fg-max-img) + 24px));
  max-width: calc(var(--fg-max-img) + 24px);
  margin-inline: auto;
}
.fg-card:active{ cursor: grabbing; }

/* Ø§Ù„ØµÙˆØ±Ø© */
#family-groups-game #fg-image{
  display: block;
  width: 100%;
  height: auto;
  max-width: var(--fg-max-img);
  aspect-ratio: 4 / 3;
  object-fit: contain;
}

/* Ø§Ù„Ø§Ø³Ù… Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© (Ù„ÙˆØ¶Ø¹ name/sound) */
#family-groups-game .fg-name-on-card{
  display: none;
  font-weight: 800;
  font-size: clamp(1.4rem, 5vw, 2rem);
  text-align: center;
  padding: .5rem .75rem;
}

/* Ø£ÙˆØ¶Ø§Ø¹ Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© */
#family-groups-game .fg-card.mode-image #fg-image{ display:block; }
#family-groups-game .fg-card.mode-image #fg-name-on-card{ display:none; }

#family-groups-game .fg-card.mode-name #fg-image{ display:none; }
#family-groups-game .fg-card.mode-name #fg-name-on-card{ display:block; }

#family-groups-game .fg-card.mode-sound #fg-image{ display:none; }
#family-groups-game .fg-card.mode-sound #fg-name-on-card{
  display:block;
  position: relative;
}
#family-groups-game .fg-card.mode-sound #fg-name-on-card::after{
  content: " ğŸ”Š";
  font-weight: 600;
}

/* Ø´Ø¨ÙƒØ© ØµÙ†Ø§Ø¯ÙŠÙ‚ Ø§Ù„ØªØµÙ†ÙŠÙ */
.fg-bins{
  display: grid;
  gap: var(--fg-gap);
  grid-template-columns: repeat(2, minmax(140px, 1fr));
  width: 100%;
  max-width: 900px;
}

.fg-bin{
  border: 2px dashed var(--border-color, #cbd5e1);
  border-radius: 1rem;
  padding: .75rem;
  min-height: 72px;
  background: var(--bin-bg, #f8fafc);
  text-align: center;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  user-select: none;
}
.fg-bin[aria-selected="true"]{ outline: 3px solid var(--focus-color, #60a5fa); }

.fg-bin.correct{
  border-color: #22c55e;
  background: #ecfdf5;
  color: #065f46;
}
.fg-bin.incorrect{
  animation: shake 240ms ease-in-out;
  border-color: #ef4444;
  color: #991b1b;
}

@keyframes shake{
  0%,100%{ transform: translateX(0); }
  25%    { transform: translateX(-6px); }
  75%    { transform: translateX(6px); }
}

/* Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØºØ°ÙŠØ© */
.fg-feedback{
  min-height: 1.25rem;
  text-align: center;
  font-weight: 600;
  margin-top: .25rem;
}

/* Ø§ØªØ¬Ø§Ù‡ RTL */
[dir="rtl"] .fg-bin{ direction: rtl; }

/* ===== ØªÙƒÙŠÙ‘Ù Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª ===== */
@media (min-width: 540px){
  .fg-bins{ grid-template-columns: repeat(3, minmax(140px, 1fr)); }
}

@media (min-width: 720px){
  .fg-bins{ grid-template-columns: repeat(4, minmax(140px, 1fr)); }
}

@media (max-width: 420px){
  #family-groups-game .fg-card{ width: 88vw; }
  .fg-bins{ grid-template-columns: repeat(2, minmax(120px, 1fr)); }
  .fg-feedback{ font-size: .95rem; margin-top: .5rem; }
}

/* Ø¹Ù†Ø§ØµØ± ØµØºÙŠØ±Ø© Ù„Ù„Ø¬Ø§Ù†Ø¨ */
#family-groups-controls .control-line{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: .5rem;
  margin-bottom: .5rem;
}
#family-groups-controls .btn-row{
  display: flex; gap: .5rem; margin-top: .25rem; flex-wrap: wrap;
}
