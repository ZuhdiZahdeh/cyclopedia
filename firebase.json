{
  "hosting": {
    "site": "cyclopedia-edu",
    "public": "dist",
    "ignore": [
      "firebase.json",
      "**/.*",
      "**/node_modules/**"
    ],
    "headers": [
      /* HTML — بدون كاش لضمان وصول التحديث فوراً */
      { "source": "/index.html", "headers": [ { "key": "Cache-Control", "value": "no-cache" } ] },
      { "source": "/*.html",     "headers": [ { "key": "Cache-Control", "value": "no-cache" } ] },
      { "source": "/html/**",    "headers": [ { "key": "Cache-Control", "value": "no-cache" } ] },

      /* الأصول المولّدة من Vite */
      { "source": "/assets/**",  "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },
      { "source": "/css/**",     "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },

      /* وسائط المشروع */
      { "source": "/images/**",  "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },
      { "source": "/audio/**",   "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },
      { "source": "/fonts/**",   "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },

      /* JS/Maps خارج assets (احتياطيًا إن وُجد) */
      { "source": "/**/*.js",    "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },
      { "source": "/**/*.mjs",   "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },
      { "source": "/**/*.map",   "headers": [ { "key": "Cache-Control", "value": "public, max-age=31536000, immutable" } ] },

      /* JSON قصير الكاش (ترجمات/إعدادات) */
      { "source": "/**/*.json",  "headers": [ { "key": "Cache-Control", "value": "public, max-age=600" } ] }
    ],
    "rewrites": [
      { "source": "**", "destination": "/index.html" }
    ]
  }
}
