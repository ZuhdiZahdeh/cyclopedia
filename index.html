<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>الموسوعة التفاعلية للأطفال</title>

  <!-- روابط CSS عبر %BASE_URL% حتى تعمل على كل بيئة بناء -->
  <link rel="stylesheet" href="%BASE_URL%css/colors.css" />
  <link rel="stylesheet" href="%BASE_URL%css/fonts.css" />
  <link rel="stylesheet" href="%BASE_URL%css/shared-utilities.css" />
  <link rel="stylesheet" href="%BASE_URL%css/forms.css" />
  <link rel="stylesheet" href="%BASE_URL%css/common-components-subjects.css" />
  <link rel="stylesheet" href="%BASE_URL%css/style.css" />

  <!-- تحميل تطبيقك (Vite سيحوّله إلى /assets/*.js في dist) -->
  <script type="module" src="%BASE_URL%src/js/main.js"></script>
</head>
<body>
  <!-- الهيدر -->
  <header class="top-navbar shadow">
    <nav class="top-nav-links">
      <a href="#" onclick="showHomePage();return false;">🏠 الرئيسية</a>
      <a href="#" onclick="loadAnimalsPage();return false;">🐾 الحيوانات</a>
      <a href="#" onclick="loadFruitsPage();return false;">🍎 الفواكه</a>
      <a href="#" onclick="loadVegetablesPage();return false;">🥦 الخضروات</a>
      <a href="#" onclick="loadHumanBodyPage();return false;">🧠 جسم الإنسان</a>
      <a href="#" onclick="loadProfessionsPage();return false;">👷‍♂️ المهن</a>
      <a href="#" onclick="loadToolsPage();return false;">🧰 الأدوات</a>
      <a href="#" onclick="loadAlphabetPressPage();return false;">🔤 لعبة الحروف</a>
      <a href="#" onclick="loadMemoryGamePage();return false;">🃏 لعبة الذاكرة</a>
      <a href="#" onclick="loadToolsMatchPage();return false;">❓ من صاحب الأداة؟</a>
    </nav>
  </header>

  <div class="page-layout">
    <!-- السايدبار -->
    <aside id="sidebar-section" class="sidebar shadow">
      <div class="sidebar-section static-section">
        <h3 class="sidebar-title">👤 حسابك</h3>
        <div class="account-actions">
          <a href="#" id="loginBtn" onclick="loadLogin();return false;" class="nav-btn">تسجيل الدخول</a>
          <a href="#" id="registerBtn" onclick="loadRegister();return false;" class="nav-btn">إنشاء حساب</a>
          <a href="#" id="my-profile-btn" onclick="loadProfile();return false;" class="nav-btn">الملف الشخصي</a>
          <a href="#" id="my-report-btn" onclick="loadMyReport();return false;" class="nav-btn">سجل النقاط</a>
          <a href="#" id="logoutBtn" class="nav-btn" style="display:none;">تسجيل خروج</a>
        </div>
      </div>

      <!-- أقسام التحكم لكل موضوع (تملؤها initializeSubjectControls) -->
      <div class="sidebar-section" id="animal-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="fruit-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="vegetable-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="human-body-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="profession-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="tools-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="alphabet-press-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="memory-game-sidebar-controls" style="display:none;"></div>
      <div class="sidebar-section" id="tools-match-sidebar-controls" style="display:none;"></div>
    </aside>

	<!-- ملاحظة: إضافة id ثابت لتجنّب التقاط <main> خاطئ بعد أي حقن -->
    <!-- المحتوى الرئيسي -->
    <main id="app-main" class="main-content">
      <section id="welcome-message" style="display:block;">
        <h2>مرحبًا بك في الموسوعة!</h2>
        <p>اختر موضوعًا من الشريط بالأعلى أو من السايدبار.</p>

        <!-- كروت البداية -->
        <div id="home-topic-cards-inner" class="home-cards-container">
          <a href="#" class="topic-card animals" onclick="loadAnimalsPage();return false;"><span class="icon">🐾</span><h3>الحيوانات</h3></a>
          <a href="#" class="topic-card fruits" onclick="loadFruitsPage();return false;"><span class="icon">🍎</span><h3>الفواكه</h3></a>
          <a href="#" class="topic-card vegetables" onclick="loadVegetablesPage();return false;"><span class="icon">🥦</span><h3>الخضروات</h3></a>
          <a href="#" class="topic-card human-body" onclick="loadHumanBodyPage();return false;"><span class="icon">🧠</span><h3>جسم الإنسان</h3></a>
          <a href="#" class="topic-card tools" onclick="loadToolsPage();return false;"><span class="icon">🧰</span><h3>الأدوات</h3></a>
          <a href="#" class="topic-card professions" onclick="loadProfessionsPage();return false;"><span class="icon">👷‍♂️</span><h3>المهن</h3></a>
          <a href="#" class="topic-card games" onclick="loadAlphabetPressPage();return false;"><span class="icon">🔤</span><h3>لعبة الحروف</h3></a>
          <a href="#" class="topic-card games" onclick="loadMemoryGamePage();return false;"><span class="icon">🃏</span><h3>لعبة الذاكرة</h3></a>
          <a href="#" class="topic-card tools-match" onclick="loadToolsMatchPage();return false;"><span class="icon">❓</span><h3>من صاحب الأداة؟</h3></a>
        </div>
      </section>
    </main>
  </div>

  <!-- ⚠️ أزلنا السكربت الثاني الثابت الذي كان في آخر الـ body لتجنب الازدواج -->
</body>
</html>
