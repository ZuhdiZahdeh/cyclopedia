<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ุงูููุณูุนุฉ ุงูุชูุงุนููุฉ ููุฃุทูุงู</title>
<link href="/css/colors.css" rel="stylesheet"/>
<link href="/css/fonts.css" rel="stylesheet"/>
<link href="/css/shared-utilities.css" rel="stylesheet"/>
<link href="/css/home.css" rel="stylesheet"/>
<link href="/css/forms.css" rel="stylesheet"/>
<link href="/css/common-components-subjects.css" rel="stylesheet"/>
<link href="/css/animals.css" rel="stylesheet"/>
<link href="/css/fruits.css" rel="stylesheet"/>
<link href="/css/vegetables.css" rel="stylesheet"/>
<link href="/css/human-body.css" rel="stylesheet"/>
<link href="/css/professions.css" rel="stylesheet"/>
<link href="/css/style.css" rel="stylesheet"/>
<link href="/css/alphabet-press.css" rel="stylesheet"/>
<link href="/css/memory-game.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
</head>
<body>
	<div id="app">
		<header class="top-navbar shadow">
			<nav class="top-nav-links">
				<a href="#" onclick="showHomePage()">๐ ุงูุฑุฆูุณูุฉ</a>
				<a href="#" onclick="loadAnimalsPage()">๐พ ุงูุญููุงูุงุช</a>
				<a href="#" onclick="loadFruitsPage()">๐ ุงูููุงูู</a>
				<a href="#" onclick="loadVegetablesPage()">๐ฅฆ ุงูุฎุถุฑูุงุช</a>
				<a href="#" onclick="loadHumanBodyPage()">๐ง ุฌุณู ุงูุฅูุณุงู</a>
				<a href="#" onclick="loadProfessionsPage()">๐ทโโ๏ธ ุงูููู</a>
				<a href="#" onclick="loadAlphabetPressPage()">๐ฎ ูุนุจุฉ ุงูุญุฑูู</a>
				<a href="#" onclick="loadMemoryGamePage()">๐ ุงูุฐุงูุฑุฉ</a>
				<a href="#" onclick="loadToolsMatchPage()">๐งฐ ูู ุตุงุญุจ ุงูุฃุฏุงุฉุ</a>
			</nav>
		</header>
		<div class="page-layout">
			<aside class="sidebar shadow">
				<div class="sidebar-section" id="animal-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐พ ุชุนุฑู ุนูู ุงูุญููุงูุงุช</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="game-lang-select-animal">ุงููุบุฉ:</label>
				<select id="game-lang-select-animal">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ุนุจุฑู</option>
				</select>
				</div>
				<div class="control-group">
				<label for="voice-select-animal">ุงูุตูุช:</label>
				<select id="voice-select-animal">
				<option value="teacher">ุงููุนูู</option>
				<option value="boy">ุตูุช ููุฏ</option>
				<option value="girl">ุตูุช ุจูุช</option>
				<option value="child">ุตูุช ุทูู</option>
				</select>
				</div>
				<button class="control-button" id="play-sound-btn-animal">๐ ุงุณุชูุน</button>
				<div class="sidebar-navigation-buttons">
				<button class="control-button" id="prev-animal-btn">โฌ๏ธ ุงูุณุงุจู</button>
				<button class="control-button" id="next-animal-btn">ุงูุชุงูู โก๏ธ</button>
				</div>
				<div class="control-group">
				<button class="control-button" id="toggle-description-btn">๐ ุนุฑุถ ุงููุตู</button>
				<button class="control-button" id="toggle-details-btn">๐งพ ุนุฑุถ ุงูุชูุงุตูู</button>
				</div>
				<div class="control-group">
				<button class="control-button" id="toggle-baby-image-btn">๐ถ ุนุฑุถ ุตูุฑุฉ ุงูุงุจู</button>
				<button class="control-button" id="play-baby-sound-btn-animal">๐ ุงุณุชูุน ูุงุจู ุงูุญููุงู</button>
				</div>
				</div>
				</div>
				<div class="sidebar-section" id="fruit-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐ ุชุนุฑู ุนูู ุงูููุงูู</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="game-lang-select-fruit">ุงููุบุฉ:</label>
				<select id="game-lang-select-fruit">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ุนุจุฑู</option>
				</select>
				</div>
				<div class="control-group">
				<label for="voice-select-fruit">ุงูุตูุช:</label>
				<select id="voice-select-fruit">
				<option value="teacher">ุงููุนูู</option>
				<option value="boy">ุตูุช ููุฏ</option>
				<option value="girl">ุตูุช ุจูุช</option>
				<option value="child">ุตูุช ุทูู</option>
				</select>
				</div>
				<button class="control-button" id="play-sound-btn-fruit">๐ ุงุณุชูุน</button>
				<div class="sidebar-navigation-buttons">
				<button class="control-button" id="prev-fruit-btn">โฌ๏ธ ุงูุณุงุจู</button>
				<button class="control-button" id="next-fruit-btn">ุงูุชุงูู โก๏ธ</button>
				</div>
				</div>
				</div>
				<div class="sidebar-section" id="vegetable-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐ฅฆ ุชุนุฑู ุนูู ุงูุฎุถุฑูุงุช</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="game-lang-select-vegetable">ุงููุบุฉ:</label>
				<select id="game-lang-select-vegetable">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ุนุจุฑู</option>
				</select>
				</div>
				<div class="control-group">
				<label for="voice-select-vegetable">ุงูุตูุช:</label>
				<select id="voice-select-vegetable">
				<option value="teacher">ุงููุนูู</option>
				<option value="boy">ุตูุช ููุฏ</option>
				<option value="girl">ุตูุช ุจูุช</option>
				<option value="child">ุตูุช ุทูู</option>
				</select>
				</div>
				<button class="control-button" id="play-sound-btn-vegetable">๐ ุงุณุชูุน</button>
				<div class="sidebar-navigation-buttons">
				<button class="control-button" id="prev-vegetable-btn">โฌ๏ธ ุงูุณุงุจู</button>
				<button class="control-button" id="next-vegetable-btn">ุงูุชุงูู โก๏ธ</button>
				</div>
				</div>
				</div>
				<div class="sidebar-section" id="human-body-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐ง ุชุนุฑู ุนูู ุฌุณู ุงูุฅูุณุงู</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="game-lang-select-human-body">ุงููุบุฉ:</label>
				<select id="game-lang-select-human-body">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ุนุจุฑู</option>
				</select>
				</div>
				<div class="control-group">
				<label for="voice-select-human-body">ุงูุตูุช:</label>
				<select id="voice-select-human-body">
				<option value="teacher">ุงููุนูู</option>
				<option value="boy">ุตูุช ููุฏ</option>
				<option value="girl">ุตูุช ุจูุช</option>
				<option value="child">ุตูุช ุทูู</option>
				</select>
				</div>
				<button class="control-button" id="play-sound-btn-human-body">๐ ุงุณุชูุน</button>
				<div class="sidebar-navigation-buttons">
				<button class="control-button" id="prev-human-body-btn">โฌ๏ธ ุงูุณุงุจู</button>
				<button class="control-button" id="next-human-body-btn">ุงูุชุงูู โก๏ธ</button>
				</div>
				</div>
				</div>
				<!-- 144: ูุณู ุชุญูู ุงูููู -->
				<div class="sidebar-section" id="profession-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐ทโโ๏ธ ุชุนุฑู ุนูู ุงูููู</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="game-lang-select-profession">ุงููุบุฉ:</label>
				<select id="game-lang-select-profession">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ืขืืจืืช</option>
				</select>
				</div>
				<div class="control-group">
				<label for="voice-select-profession">ุงูุตูุช:</label>
				<select id="voice-select-profession">
				<option value="teacher">ุงููุนูู</option>
				<option value="boy">ุตูุช ููุฏ</option>
				<option value="girl">ุตูุช ุจูุช</option>
				</select>
				</div>
				<button class="control-button" id="play-sound-btn-profession">๐ ุงุณุชูุน</button>
				<div class="sidebar-navigation-buttons">
				<button class="control-button" id="prev-profession-btn">โฌ๏ธ ุงูุณุงุจู</button>
				<button class="control-button" id="next-profession-btn">ุงูุชุงูู โก๏ธ</button>
				</div>
				<div class="control-group">
				<button class="control-button" id="toggle-description-btn-profession">๐ ุนุฑุถ ุงููุตู</button>
				</div>
				</div>
				</div>
				<!-- ููุงูุฉ ูุณู ุงูุชุญูู ุจุงููููู -->
				<div class="sidebar-section" id="alphabet-press-sidebar-controls" style="display: none;">
				<h3 id="alphabet-press-title" style="text-align: center;">๐ฎ ูุนุจุฉ ุงูุญุฑูู</h3>
				<div class="sidebar-game-controls">
				<div class="control-group">
				<label for="alphabet-press-language-select">ุงุฎุชุฑ ุงููุบุฉ:</label>
				<select id="alphabet-press-language-select"></select>
				</div>
				<div class="control-group">
				<label for="alphabet-press-category-select">ุงุฎุชุฑ ุงููุฆุฉ:</label>
				<select id="alphabet-press-category-select"></select>
				</div>
				<div class="control-group">
				<label for="alphabet-press-voice-select">ุงุฎุชุฑ ุงูุตูุช:</label>
				<select id="alphabet-press-voice-select">
				<option data-i18n="teacher_voice" value="teacher">ุงููุนูู</option>
				<option data-i18n="boy_voice" value="boy">ุตูุช ููุฏ</option>
				<option data-i18n="girl_voice" value="girl">ุตูุช ุจูุช</option>
				<option data-i18n="child_voice" value="child">ุตูุช ุทูู</option>
				</select>
				</div>
				<button class="control-button" id="alphabet-press-play-audio-sidebar">๐ ุงุณุชูุน</button>
				</div>
				</div>
				<div class="sidebar-section" id="memory-game-sidebar-controls" style="display: none;">
				<h3 style="text-align: center;">๐ ุฅุนุฏุงุฏุงุช ูุนุจุฉ ุงูุฐุงูุฑุฉ</h3>
				<div class="sidebar-game-controls memory-game-controls">
				<div class="control-group">
				<label for="memory-game-lang-select">ุงุฎุชุฑ ุงููุบุฉ:</label>
				<select id="memory-game-lang-select">
				<option value="ar">ุงูุนุฑุจูุฉ</option>
				<option value="en">English</option>
				<option value="he">ืขืืจืืช</option>
				</select>
				</div>
				<div class="control-group">
				<label for="memory-game-topic-select">ุงุฎุชุฑ ุงูููุถูุน:</label>
				<select id="memory-game-topic-select">
				</select>
				</div>
				<div class="control-group">
				<label for="memory-game-mode-select">ููุท ุงููุนุจ:</label>
				<select id="memory-game-mode-select">
				<option value="image-image">ุตูุฑุฉ - ุตูุฑุฉ</option>
				<option value="image-word">ุตูุฑุฉ - ูููุฉ</option>
				<option value="image-char">ุตูุฑุฉ - ุญุฑู</option>
				<option value="image-audio">ุตูุฑุฉ - ุตูุช</option>
				</select>
				</div>
				<button class="memory-game-start-button" id="memory-game-start-button">ุงุจุฏุฃ ุงููุนุจ</button>
				</div>
				</div>
				<div class="sidebar-section static-section">
				<h3>๐ค ุญุณุงุจู</h3>
				<ul>
				<li><a href="#" onclick="loadLogin()">ุชุณุฌูู ุงูุฏุฎูู</a></li>
				<li><a href="#" onclick="loadRegister()">ุชุณุฌูู ุฌุฏูุฏ</a></li>
				<li><a href="#" onclick="loadProfile()">ุงูููู ุงูุดุฎุตู</a></li>
				<li><a href="/users/my-report.html">ุณุฌู ุงูููุงุท</a></li>
				</ul>
				</div>
			</aside>
				<main class="main-content">
				<h2 id="welcome-message" style="display: block;">ูุฑุญุจูุง ุจู ูู ุงูููุณูุนุฉ!</h2>
					<div class="home-cards-container" id="home-topic-cards">
					<a class="topic-card animals" href="#" onclick="loadAnimalsPage(); return false;">
					<span class="icon">๐พ</span>
					<h3>ุงูุญููุงูุงุช</h3>
					</a>
					<a class="topic-card fruits" href="#" onclick="loadFruitsPage(); return false;">
					<span class="icon">๐</span>
					<h3>ุงูููุงูู</h3>
					</a>
					<a class="topic-card vegetables" href="#" onclick="loadVegetablesPage(); return false;">
					<span class="icon">๐ฅฆ</span>
					<h3>ุงูุฎุถุฑูุงุช</h3>
					</a>
					<a class="topic-card human-body" href="#" onclick="loadHumanBodyPage(); return false;"> <span class="icon">๐ง</span>
					<h3>ุฌุณู ุงูุฅูุณุงู</h3>
					</a>
					<!-- 286: ุจุทุงูุฉ ุงูููู -->
					<a class="topic-card professions" href="#" onclick="loadProfessionsPage(); return false;">
					<span class="icon">๐ทโโ๏ธ</span>
					<h3>ุงูููู</h3>
					</a>
					<a class="topic-card games" href="#" onclick="loadAlphabetPressPage(); return false;">
					<span class="icon">๐</span>
					<h3>ูุนุจุฉ ุงูุญุฑูู</h3> </a>
					<a class="topic-card games" href="#" onclick="loadMemoryGamePage(); return false;">
					<span class="icon">๐ง</span>
					<h3>ูุนุจุฉ ุงูุฐุงูุฑุฉ</h3>
					</a>
					<a href="#" onclick="loadToolsMatchPage(); return false;" class="game-icon-link">
					  <span class="game-icon">
						<img src="/images/icons/tools-match.png" alt="Tools Match Game" />
						<h3 data-i18n="tools_game_title">ูู ุตุงุญุจ ุงูุฃุฏุงุฉุ</h3>
					  </span>
					</a>
				</div>
			</main>
		</div>
	</div>
<script type="module">
		import { showProfileForm } from '/src/js/profile.js';
		import { loadAnimalsGameContent, showNextAnimal, showPreviousAnimal, playCurrentAnimalAudio, playCurrentBabyAnimalAudio } from '/src/js/animals-game.js';
		import { loadFruitsGameContent, showNextFruit, showPreviousFruit, playCurrentFruitAudio } from '/src/js/fruits-game.js';
		import { loadVegetablesGameContent, showNextVegetable, showPreviousVegetable, playCurrentVegetableAudio } from '/src/js/vegetables-game.js';
		import { loadHumanBodyGameContent, showNextHumanBodyPart, showPreviousHumanBodyPart, playCurrentHumanBodyPartAudio } from '/src/js/human-body-game.js';
		import { setDirection, currentLang, loadLanguage, applyTranslations } from '/src/js/lang-handler.js';

		// 296: ุงุณุชูุฑุงุฏ ูุนุจุฉ ุงูููู
		import { loadProfessionsGameContent, showNextProfession, showPreviousProfession, playCurrentProfessionAudio } from '/src/js/professions-game.js';
		
		import { loadAlphabetPressGameContent, playCurrentAlphabetItemAudioFromSidebar, getCurrentDisplayedItem, handleAlphabetPressLanguageChange,
			handleAlphabetPressCategoryChange, updateAlphabetPressVoice, populateAlphabetPressSidebarOptions } from '/src/js/alphabet-press-game.js';
		import { loadMemoryGameContent, initializeMemoryGameSidebarControls } from '/src/js/memory-game.js';


		const mainContentArea = document.querySelector("main.main-content");
		const animalSidebarControls = document.getElementById("animal-sidebar-controls");
		const fruitSidebarControls = document.getElementById("fruit-sidebar-controls");
		const vegetableSidebarControls = document.getElementById("vegetable-sidebar-controls");
		const humanBodySidebarControls = document.getElementById("human-body-sidebar-controls");
		const alphabetPressSidebarControls = document.getElementById("alphabet-press-sidebar-controls");
		const memoryGameSidebarControls = document.getElementById("memory-game-sidebar-controls"); 
		// 297: ุนูุตุฑ ุงูุชุญูู ุงูุฌุงูุจู ููููู
		const professionSidebarControls = document.getElementById("profession-sidebar-controls");
		
		const welcomeMessage = document.getElementById("welcome-message");
		const homeTopicCards = document.getElementById("home-topic-cards");

		window.loadLogin = async () => {
			hideAllControls();
			try {
				const response = await fetch('/users/login-form.html');
				if (!response.ok) throw new Error('Failed to load login form');
				const loginFormHtml = await response.text();
				mainContentArea.innerHTML = loginFormHtml;
			} catch (error) {
				console.error('Error loading login form:', error);
				mainContentArea.innerHTML = '<p style="color: red;">ุชุนุฐุฑ ุชุญููู ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู.</p>';
			}
		};

		window.loadRegister = async () => {
			hideAllControls();
			try {
				const response = await fetch('/users/register-form.html');
				if (!response.ok) throw new Error('Failed to load register form');
				const registerFormHtml = await response.text();
				mainContentArea.innerHTML = registerFormHtml;
			} catch (error) {
				console.error('Error loading register form:', error);
				mainContentArea.innerHTML = '<p style="color: red;">ุชุนุฐุฑ ุชุญููู ูููุฐุฌ ุงูุชุณุฌูู. ูุฑุฌู ุงููุญุงููุฉ ูุงุญูุงู.</p>';
			}
		};

		window.loadProfile = () => { showProfileForm(); hideAllControls(); };

		window.loadAnimalsPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  await loadAnimalsGameContent();
		  showAnimalControls();
		  initializeSubjectControls('animal');
		};

		window.loadFruitsPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  await loadFruitsGameContent();
		  showFruitControls();
		  initializeSubjectControls('fruit');
		};

		window.loadVegetablesPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  await loadVegetablesGameContent();
		  showVegetableControls();
		  initializeSubjectControls('vegetable');
		};

		window.loadHumanBodyPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  await loadHumanBodyGameContent();
		  showHumanBodyControls();
		  initializeSubjectControls('human-body');
		};

		// ุฏุงูุฉ ุชุญููู ุตูุญุฉ ุงูููู 
			window.loadProfessionsPage = async () => {
			  hideAllControls();
			  if (welcomeMessage) welcomeMessage.style.display = 'none';
			  if (homeTopicCards) homeTopicCards.style.display = 'none';
			  await loadProfessionsGameContent();
			  // 361: ุฅุธูุงุฑ ุดุฑูุท ุงูุชุญูู ููููู
			  if (professionSidebarControls) professionSidebarControls.style.display = 'block';
			  initializeSubjectControls('profession');
			};
	
		// ุฏุงูุฉ ุชุญููู ุตูุญุฉ ูุนุจุฉ ุงุถุบุท ุนูู ุงูุญุฑู
		window.loadAlphabetPressPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  
		  showAlphabetPressControls(); // ุงุฌุนู ุนูุงุตุฑ ุงูุดุฑูุท ุงูุฌุงูุจู ูุฑุฆูุฉ ุฃููุงู
		  await populateAlphabetPressSidebarOptions(); // ุงุณุชุฏุนุงุก ุฏุงูุฉ ุชููุฆุฉ ุงูุฎูุงุฑุงุช ูู alphabet-press-game.js
		  await loadAlphabetPressGameContent(); // ุซู ูู ุจุชุญููู ูุญุชูู ุงููุนุจุฉ ูู ุงูููุทูุฉ ุงูุฑุฆูุณูุฉ
		};

		// ุฏุงูุฉ ุชุญููู ุตูุญุฉ ูุนุจุฉ ุงูุฐุงูุฑุฉ
		window.loadMemoryGamePage = async () => {
			hideAllControls();
			if (welcomeMessage) welcomeMessage.style.display = 'none';
			if (homeTopicCards) homeTopicCards.style.display = 'none';
			
			// ูู ุจุชููุฆุฉ ุนูุงุตุฑ ุงูุชุญูู ูู ุงูุดุฑูุท ุงูุฌุงูุจู ุฃููุงู
			if (memoryGameSidebarControls) {
				await initializeMemoryGameSidebarControls();
				showMemoryGameControls();
			} else {
				console.error("Memory game sidebar controls not found. Cannot initialize.");
			}

			await loadMemoryGameContent(); 
		};
		// ุฏุงูุฉ ุชุญููู ุตูุญุฉ ูู ุตุงุญุจ ุงูุฃุฏุงุฉ 
		window.loadToolsMatchPage = async () => {
		  hideAllControls();
		  if (welcomeMessage) welcomeMessage.style.display = 'none';
		  if (homeTopicCards) homeTopicCards.style.display = 'none';
		  try {
			const response = await fetch('/html/tools-match.html');
			const html = await response.text();
			mainContentArea.innerHTML = html;
		  } catch (error) {
			mainContentArea.innerHTML = '<p>ุชุนุฐุฑ ุชุญููู ุงููุนุจุฉ</p>';
		  }
		};

		window.showHomePage = () => {
			mainContentArea.innerHTML = `
            <h2 id="welcome-message-inner" style="display: block;">ูุฑุญุจูุง ุจู ูู ุงูููุณูุนุฉ!</h2>
            <div id="home-topic-cards-inner" class="home-cards-container">
                <a href="#" class="topic-card animals" onclick="loadAnimalsPage(); return false;">
                    <span class="icon">๐พ</span>
                    <h3>ุงูุญููุงูุงุช</h3>
                </a>
                <a href="#" class="topic-card fruits" onclick="loadFruitsPage(); return false;">
                    <span class="icon">๐</span>
                    <h3>ุงูููุงูู</h3>
                </a>
                <a href="#" class="topic-card vegetables" onclick="loadVegetablesPage(); return false;">
                    <span class="icon">๐ฅฆ</span>
                    <h3>ุงูุฎุถุฑูุงุช</h3>
                </a>
                <a href="#" class="topic-card human-body" onclick="loadHumanBodyPage(); return false;">
                    <span class="icon">๐ง</span>
                    <h3>ุฌุณู ุงูุฅูุณุงู</h3>
                </a>
                <a href="#" class="topic-card games" onclick="loadAlphabetPressPage(); return false;">
                    <span class="icon">๐</span>
                    <h3>ูุนุจุฉ ุงูุญุฑูู</h3> </a>
                <a href="#" class="topic-card games" onclick="loadMemoryGamePage(); return false;">
                    <span class="icon">๐ง</span>
                    <h3>ูุนุจุฉ ุงูุฐุงูุฑุฉ</h3>
                </a>
				<!-- ุจุทุงูุฉ ุงูููู ุงูููููุฏุฉ -->
						<a href="#" class="topic-card professions" onclick="loadProfessionsPage(); return false;">
						<span class="icon">๐ทโโ๏ธ</span>
						<h3>ุงูููู</h3>
						</a>
					</div>
				  `;
				  hideAllControls();
				  const defaultLang = localStorage.getItem("lang") || "ar";
				  setDirection(defaultLang);
		};


		function showAnimalControls() { if (animalSidebarControls) { animalSidebarControls.style.display = 'block'; } }
		function hideAnimalControls() { if (animalSidebarControls) { animalSidebarControls.style.display = 'none'; } }
		function showFruitControls() { if (fruitSidebarControls) { fruitSidebarControls.style.display = 'block'; } }
		function hideFruitControls() { if (fruitSidebarControls) { fruitSidebarControls.style.display = 'none'; } }
		function showVegetableControls() { if (vegetableSidebarControls) { vegetableSidebarControls.style.display = 'block'; } }
		function hideVegetableControls() { if (vegetableSidebarControls) { vegetableSidebarControls.style.display = 'none'; } }
		function showHumanBodyControls() { if (humanBodySidebarControls) { humanBodySidebarControls.style.display = 'block'; } }
		function hideHumanBodyControls() { if (humanBodySidebarControls) { humanBodySidebarControls.style.display = 'none'; } }
		function showAlphabetPressControls() { if (alphabetPressSidebarControls) { alphabetPressSidebarControls.style.display = 'block'; } }
		function hideAlphabetPressControls() { if (alphabetPressSidebarControls) { alphabetPressSidebarControls.style.display = 'none'; } }
		function showMemoryGameControls() { if (memoryGameSidebarControls) { memoryGameSidebarControls.style.display = 'block'; } }
		function hideMemoryGameControls() { if (memoryGameSidebarControls) { memoryGameSidebarControls.style.display = 'none'; } }
			function hideAllControls() {
			hideAnimalControls();
			hideFruitControls();
			hideVegetableControls();
			hideHumanBodyControls();
			hideAlphabetPressControls();
			hideMemoryGameControls();
				  // 367: ุฅุฎูุงุก ุงูุชุญูู ุจุงูููู
		  if (professionSidebarControls) professionSidebarControls.style.display = 'none';
			}

			const availableCategories = [
				{ id: 'animals', name_ar: 'ุญููุงูุงุช', name_en: 'Animals', name_he: 'ืืืืช' },
				{ id: 'fruits', name_ar: 'ููุงูู', name_en: 'Fruits', name_he: 'ืคืืจืืช' },
				{ id: 'vegetables', name_ar: 'ุฎุถุฑูุงุช', name_en: 'Vegetables', name_he: 'ืืจืงืืช' },
				{ id: 'human-body', name_ar: 'ุฌุณู ุงูุฅูุณุงู', name_en: 'Human Body', name_he: 'ืืืฃ ืืืื' },
				{ id: 'profession', name_ar: 'ุงูููู', name_en: 'Profession', name_he: 'ืืงืฆืืขืืช' },
			];

				// ุฏุงูุฉ initializeSubjectControls ุงูุนุงูุฉ ูุชููุฆุฉ ุนูุงุตุฑ ุงูุชุญูู ููู ููุถูุน
				async function initializeSubjectControls(subjectType) {
						let langSelect, voiceSelect, playSoundBtn, prevBtn, nextBtn;
						let loadContentFunc, showNextFunc, showPrevFunc, playAudioFunc;
						// New variables for baby animal controls
						let toggleBabyImageBtn, playBabySoundBtn; 
						let playBabyAudioFunc;

						switch(subjectType) {
							case 'animal':
								langSelect = document.getElementById('game-lang-select-animal');
								voiceSelect = document.getElementById('voice-select-animal');
								playSoundBtn = document.getElementById('play-sound-btn-animal');
								prevBtn = document.getElementById('prev-animal-btn');
								nextBtn = document.getElementById('next-animal-btn');
								loadContentFunc = loadAnimalsGameContent;
								showNextFunc = showNextAnimal;
								showPrevFunc = showPreviousAnimal;
								playAudioFunc = playCurrentAnimalAudio;
								toggleBabyImageBtn = document.getElementById('toggle-baby-image-btn'); // New
								playBabySoundBtn = document.getElementById('play-baby-sound-btn-animal'); // New
								playBabyAudioFunc = playCurrentBabyAnimalAudio; // New
								break;
							case 'fruit':
								langSelect = document.getElementById('game-lang-select-fruit');
								voiceSelect = document.getElementById('voice-select-fruit');
								playSoundBtn = document.getElementById('play-sound-btn-fruit');
								prevBtn = document.getElementById('prev-fruit-btn');
								nextBtn = document.getElementById('next-fruit-btn');
								loadContentFunc = loadFruitsGameContent;
								showNextFunc = showNextFruit;
								showPrevFunc = showPreviousFruit;
								playAudioFunc = playCurrentFruitAudio;
								break;
							case 'vegetable':
								langSelect = document.getElementById('game-lang-select-vegetable');
								voiceSelect = document.getElementById('voice-select-vegetable');
								playSoundBtn = document.getElementById('play-sound-btn-vegetable');
								prevBtn = document.getElementById('prev-vegetable-btn');
								nextBtn = document.getElementById('next-vegetable-btn');
								loadContentFunc = loadVegetablesGameContent;
								showNextFunc = showNextVegetable;
								showPrevFunc = showPreviousVegetable;
								playAudioFunc = playCurrentVegetableAudio;
								break;
							case 'human-body':
								langSelect = document.getElementById('game-lang-select-human-body');
								voiceSelect = document.getElementById('voice-select-human-body');
								playSoundBtn = document.getElementById('play-sound-btn-human-body');
								prevBtn = document.getElementById('prev-human-body-btn');
								nextBtn = document.getElementById('next-human-body-btn');
								loadContentFunc = loadHumanBodyGameContent;
								showNextFunc = showNextHumanBodyPart;
								showPrevFunc = showPreviousHumanBodyPart;
								playAudioFunc = playCurrentHumanBodyPartAudio;
								break;
							case 'profession':
								langSelect = document.getElementById('game-lang-select-profession');
								voiceSelect = document.getElementById('voice-select-profession');
								playSoundBtn = document.getElementById('play-sound-btn-profession');
								const toggleDescBtn = document.getElementById('toggle-description-btn-profession');
								if (toggleDescBtn) toggleDescBtn.onclick = () => {
								const descBox = document.getElementById('profession-description-box');
								descBox.style.display = descBox.style.display === 'none' ? 'block' : 'none';
								};
								prevBtn = document.getElementById('prev-profession-btn');
								nextBtn = document.getElementById('next-profession-btn');
								loadContentFunc = loadProfessionsGameContent;
								showNextFunc = showNextProfession;
								showPrevFunc = showPreviousProfession;
								playAudioFunc = playCurrentProfessionAudio;
								break;

							default:
							return;
						}

					if (!langSelect || !voiceSelect) {
						console.error(`ุนูุงุตุฑ ุงูุชุญูู ูููุน ุงูููุถูุน '${subjectType}' ูู ูุชู ุงูุนุซูุฑ ุนูููุง ูู DOM.`);
						return;
					}

					if (langSelect.options.length === 0) {
						['ar', 'en', 'he'].forEach(langCode => {
							const option = document.createElement('option');
							option.value = langCode;
							option.textContent = { 'ar': 'ุงูุนุฑุจูุฉ', 'en': 'English', 'he': 'ืขืืจืืช' }[langCode];
							langSelect.appendChild(option);
						});
						langSelect.value = currentLang;
					}

					if (voiceSelect.options.length === 0) {
						['teacher', 'boy', 'girl', 'child'].forEach(voiceType => {
							const option = document.createElement('option');
							option.value = voiceType;
							option.textContent = { 'teacher': 'ุงููุนูู', 'boy': 'ุตูุช ููุฏ', 'girl': 'ุตูุช ุจูุช', 'child': 'ุตูุช ุทูู' }[voiceType];
							voiceSelect.appendChild(option);
						});
						voiceSelect.value = 'teacher';
					}

					langSelect.onchange = async () => {
						const newLang = langSelect.value;
						await loadLanguage(newLang);
						applyTranslations();
						setDirection(newLang);
						await loadContentFunc();
					};

					voiceSelect.onchange = () => {
						// ููุทู ุชุญุฏูุซ ุงูุตูุช ูู ููู ุงููุนุจุฉ ุงูุฎุงุต ุจุงูููุถูุน (ูุซู animals-game.js)
						// ูุฐู ุงูุฃุฒุฑุงุฑ ูุง ุชูุฑุฑ ุงููููุฉ ูุจุงุดุฑุฉ ุฅูู ุงูุฏุงูุฉุ ุจู ุงูุฏุงูุฉ ุชุณุชุฎุฏู ูููุฉ ุงูู select
						// ููุฐูู ูุง ุญุงุฌุฉ ูุฏุงูุฉ update ููุง
					};

					if (playSoundBtn) playSoundBtn.onclick = () => {
						playAudioFunc();
					};

					if (prevBtn) prevBtn.onclick = () => {
						showPrevFunc();
					};

					if (nextBtn) nextBtn.onclick = () => {
						showNextFunc();
					};

					// New event listeners for baby animal buttons
					if (toggleBabyImageBtn) {
						toggleBabyImageBtn.onclick = () => {
							// The actual toggling logic is within loadAnimalsGameContent as it manipulates the DOM directly.
							// This button just triggers the display property of the relevant section.
							const detailsBox = document.getElementById("animal-details-section");
							const babyAnimalSection = detailsBox ? detailsBox.querySelector(".baby-animal-section") : null;
							if (babyAnimalSection) {
								babyAnimalSection.style.display = (babyAnimalSection.style.display === "none") ? "block" : "none";
							}
						};
					}

					if (playBabySoundBtn) {
						playBabySoundBtn.onclick = () => {
							playBabyAudioFunc();
						};
					}

					applyTranslations();
				}
				
						document.addEventListener('DOMContentLoaded', () => {
						window.showHomePage();
					});
  </script>
</body>
</html>